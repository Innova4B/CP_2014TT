<ion-view hide-nav-bar="false"  title="{{'Tiendas' | translate}}">
  <ion-nav-buttons side="left">
    <button class="button button-icon button-clear button-light ion-navicon" menu-toggle="left">
    </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon button-clear button-light fa fa-filter sidemenu" ng-click="showFilter()"></button>
    <button class="button button-icon button-clear button-light fa fa-sort-amount-asc sidemenu" ng-click="showSortDialog()"></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-list>
      <div ng-repeat="shop in shops" item-height="100px" item-width="100%">

        <a class="item item-avatar" href="#/tab/shops/{{shop.id}}" on-hold="onHold(shop)" ng-if="shop.visible">
          <div class="">
            <p class="right side-note">
              {{shop.distance}}<i class="icon ion-location padding-left"></i>
            </p>
            <h2>{{shop.title}}</h2>
            <p ng-bind-html="shop.description"></p>
            <div class="list-rating">
              <i class="icon" ng-class="{'ion-ios-star-outline':poiRatings[shop.id]<0.5, 'ion-ios-star-half':poiRatings[shop.id]>=0.5 && poiRatings[shop.id]<1, 'ion-ios-star':poiRatings[shop.id]>=1}"></i>
              <i class="icon" ng-class="{'ion-ios-star-outline':poiRatings[shop.id]<1.5, 'ion-ios-star-half':poiRatings[shop.id]>=1.5 && poiRatings[shop.id]<2, 'ion-ios-star':poiRatings[shop.id]>=2}"></i>
              <i class="icon" ng-class="{'ion-ios-star-outline':poiRatings[shop.id]<2.5, 'ion-ios-star-half':poiRatings[shop.id]>=2.5 && poiRatings[shop.id]<3, 'ion-ios-star':poiRatings[shop.id]>=3}"></i>
              <i class="icon" ng-class="{'ion-ios-star-outline':poiRatings[shop.id]<3.5, 'ion-ios-star-half':poiRatings[shop.id]>=3.5 && poiRatings[shop.id]<4, 'ion-ios-star':poiRatings[shop.id]>=4}"></i>
              <i class="icon" ng-class="{'ion-ios-star-outline':poiRatings[shop.id]<4.5, 'ion-ios-star-half':poiRatings[shop.id]>=4.5 && poiRatings[shop.id]<5, 'ion-ios-star':poiRatings[shop.id]>=5}"></i>
            </div>
          </div>
          <div class="item-image poi-list-item"><img class="poi-list-avatar" src="{{fileSystem}}{{appDirectory}}{{appLanguage}}/shops/{{shop.mainImageApp}}"></div>
        </a>
      </div>
    </ion-list>
    <!--<ion-infinite-scroll ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" distance="1%"></ion-infinite-scroll>-->

  </ion-content>
</ion-view>